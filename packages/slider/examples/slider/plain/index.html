<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plain Example</title>
  </head>
  <body>
    <h1>Plain Example</h1>

    <!-- <div class="slider">
      <div class="slider__region" role="region" aria-label="Image slider" tabindex="0">
        <ol class="slider__list" role="list">
          <li class="slider__list-item" data-index="1">
            <figure><img src="https://via.placeholder.com/150x150"></figure>
          </li>
          <li class="slider__list-item" data-index="2">
            <figure><img src="https://via.placeholder.com/450x150"></figure>
          </li>
          <li class="slider__list-item" data-index="3">
            <figure><img src="https://via.placeholder.com/250x150"></figure>
          </li>
        </ol>
      </div>
      <ol class="slider__dots" role="list"></ol>
    </div> -->

    <div class="slider">
      <div class="slider__region" role="region" aria-label="Image slider" tabindex="0">
        <ol class="slider__list" role="list">
          <li class="slider__list-item" data-index="1">
            <figure><img src="https://via.placeholder.com/150x300"></figure>
          </li>
          <li class="slider__list-item" data-index="2">
            <figure><img src="https://via.placeholder.com/350x300"></figure>
          </li>
          <li class="slider__list-item" data-index="3">
            <figure><img src="https://via.placeholder.com/250x300"></figure>
          </li>
          <li class="slider__list-item" data-index="4">
            <figure><img src="https://via.placeholder.com/150x300"></figure>
          </li>
          <li class="slider__list-item" data-index="5">
            <figure><img src="https://via.placeholder.com/250x300"></figure>
          </li>
          <li class="slider__list-item" data-index="6">
            <figure><img src="https://via.placeholder.com/450x300"></figure>
          </li>
          <li class="slider__list-item" data-index="7">
            <figure><img src="https://via.placeholder.com/550x300"></figure>
          </li>
          <li class="slider__list-item" data-index="8">
            <figure><img src="https://via.placeholder.com/150x300"></figure>
          </li>
          <li class="slider__list-item" data-index="9">
            <figure><img src="https://via.placeholder.com/1250x300"></figure>
          </li>
        </ol>
      </div>
      <!-- <ol class="slider__dots" role="list"></ol> -->
    </div>

    <script type="module" src="main.js"></script>

    <script>
      window.addEventListener('load', () => {
        Array.from(document.getElementsByClassName('slider')).forEach(sliderElement => {
          console.info('mode', sliderElement.getAttribute('mode'))
          const mode = sliderElement.getAttribute('mode')
          const slidesToShow = sliderElement.getAttribute('slidesToShow')
          const slidesToScroll = sliderElement.getAttribute('slidesToScroll')

          new Slider(sliderElement.getElementsByClassName('slider__list')[0], {
            arrows: true,
            autoResize: true,
            // center: false,
            // dots: 'dragger',
            container: sliderElement.getElementsByClassName('slider__region')[0],
            containerDots: sliderElement.getElementsByClassName('slider__dots')[0],
            lock: {
              x: mode === 'vertical' ? true : false,
              y: mode === 'vertical' ? false : true,
            },
            slidesToScroll: slidesToScroll || undefined,
            slidesToShow: slidesToShow || 5,
            overflowScrolling: true,
            snap: true,
            variableWidth: false,
            variableHeight: false,
            rtl: false,
            mode: mode || 'horizontal',
            wheel: true,

            responsive: [
              // {
              //   breakpoint: 767,
              //   options: {
              //     slidesToShow: 2
              //   }
              // },
              {
                breakpoint: 1440,
                options: 'disable',
                type: 'min', // min or max
              }
            ],

            //

            onInit: (slider) => {
              console.info('slider:onInit')
            },
            onMove: (event, slider) => {
              console.info('slider:onMove', event, slider)
            },
            onChange: (slider, oldIndex, newIndex) => {
              console.info('slider:onChange', slider, oldIndex, newIndex)
            },
            onComplete: () => {
              console.info('slider:onComplete')
            },
            onStart: (event, slider) => {
              console.info('slider:onStart', event, slider)
            },
            onEnd: (event, slider) => {
              console.info('slider:onEnd', event, slider)
            },
            onTranslate: (x, y, slider) => {
              console.info('slider:onTranslate', slider.currentIndex, slider)
            },
            prevent(event) {
              // console.log('prevent', event)
              return mode === 'vertical' ? Math.abs(event.deltaY) > 0 : Math.abs(event.deltaX) > 2
            },
          })
        })
      })
    </script>
  </body>
</html>
