import{B as g}from"./Button.vue._Svzmbdd.js";import"./index.DLgmmEzk.js";import{T as D,a as N}from"./index.CJZsqij9.js";import{d as U,b as j,o as q,e as B,c as a,r as E,a as m}from"./runtime-core.esm-bundler.Bu07HdzU.js";import"./index.BuW9Y6i2.js";import{p as F}from"./main.DcoTumYc.js";class V extends N{input(){this.entity.position.y>window.innerHeight/2&&this.entity.dispatchEvent(new Event("open",{bubbles:!0}))}}class H extends D{connectedCallback(){super.connectedCallback();const e=this.findTrait("pointer");e&&(e.borderResistnce=0),this.addTrait("drawer",V)}}customElements.define("drawer-track",H);const L=U((t,{slots:e})=>{const s=j(),r=()=>{t.minimized?s.value?.moveTo(0,"linear"):s.value?.setTarget([0,s.value?.overflowHeight],"linear")};return q(()=>{requestAnimationFrame(()=>r())}),B(()=>r()),()=>a("div",{class:"drawer group/blur pointer-events-none fixed top-0 left-0 z-50 block h-full w-full overflow-hidden transition-all"},[a(E("drawer-track"),{ref:s,vertical:!0,class:"auto -translate-x-1/2 pointer-events-auto absolute bottom-0 left-1/2 z-50 h-[100px] translate-y-0 touch-none overflow-visible transition-all",onOpen:()=>t.onOpen?.()},{default:()=>[a("div",{class:"relative w-[calc(100vw)] min-w-[250px] max-w-[500px] rounded-t-lg border border-zinc-100 border-b-0 bg-zinc-800 pt-4"},[a("div",{class:"flex w-full justify-center pb-4"},[a("div",{class:"h-[3px] w-[60px] rounded-3xl bg-[#002417] opacity-20"},null)]),a(g,{class:"absolute top-0 right-0 bg-white text-xs",onClick:()=>t.onClose?.()},{default:()=>[m("X")]}),a("div",{class:["relative z-10"]},[e.title?.()])]),a("div",{class:["relative z-10 w-[calc(100vw)] min-w-[250px] max-w-[500px] bg-zinc-800"]},[e.default?.(),a("div",{class:"absolute top-full left-0 h-[50vh] w-full bg-zinc-800"},null)])]})])},{props:["minimized","onClose","onOpen"]}),M=(t,e)=>t===e,S={equals:M};let R=A;const f=1,h=2;var p=null;let d=null,G=null,i=null,o=null,c=null,b=0;function k(t,e){e=e?Object.assign({},S,e):S;const s={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=n=>(typeof n=="function"&&(n=n(s.value)),T(s,n));return[P.bind(s),r]}function I(t){if(i===null)return t();const e=i;i=null;try{return t()}finally{i=e}}function P(){if(this.sources&&this.state)if(this.state===f)y(this);else{const t=o;o=null,w(()=>v(this),!1),o=t}if(i){const t=this.observers?this.observers.length:0;i.sources?(i.sources.push(this),i.sourceSlots.push(t)):(i.sources=[this],i.sourceSlots=[t]),this.observers?(this.observers.push(i),this.observerSlots.push(i.sources.length-1)):(this.observers=[i],this.observerSlots=[i.sources.length-1])}return this.value}function T(t,e,s){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&w(()=>{for(let n=0;n<t.observers.length;n+=1){const l=t.observers[n],u=d&&d.running;u&&d.disposed.has(l),(u?!l.tState:!l.state)&&(l.pure?o.push(l):c.push(l),l.observers&&z(l)),u||(l.state=f)}if(o.length>1e6)throw o=[],new Error},!1)),e}function y(t){if(!t.fn)return;x(t);const e=b;Q(t,t.value,e)}function Q(t,e,s){let r;const n=p,l=i;i=p=t;try{r=t.fn(e)}catch(u){return t.pure&&(t.state=f,t.owned&&t.owned.forEach(x),t.owned=null),t.updatedAt=s+1,O(u)}finally{i=l,p=n}(!t.updatedAt||t.updatedAt<=s)&&(t.updatedAt!=null&&"observers"in t?T(t,r):t.value=r,t.updatedAt=s)}function C(t){if(t.state===0)return;if(t.state===h)return v(t);if(t.suspense&&I(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<b);)t.state&&e.push(t);for(let s=e.length-1;s>=0;s--)if(t=e[s],t.state===f)y(t);else if(t.state===h){const r=o;o=null,w(()=>v(t,e[0]),!1),o=r}}function w(t,e){if(o)return t();let s=!1;e||(o=[]),c?s=!0:c=[],b++;try{const r=t();return X(s),r}catch(r){s||(c=null),o=null,O(r)}}function X(t){if(o&&(A(o),o=null),t)return;const e=c;c=null,e.length&&w(()=>R(e),!1)}function A(t){for(let e=0;e<t.length;e++)C(t[e])}function v(t,e){t.state=0;for(let s=0;s<t.sources.length;s+=1){const r=t.sources[s];if(r.sources){const n=r.state;n===f?r!==e&&(!r.updatedAt||r.updatedAt<b)&&C(r):n===h&&v(r,e)}}}function z(t){for(let e=0;e<t.observers.length;e+=1){const s=t.observers[e];s.state||(s.state=h,s.pure?o.push(s):c.push(s),s.observers&&z(s))}}function x(t){let e;if(t.sources)for(;t.sources.length;){const s=t.sources.pop(),r=t.sourceSlots.pop(),n=s.observers;if(n&&n.length){const l=n.pop(),u=s.observerSlots.pop();r<n.length&&(l.sourceSlots[u]=r,n[r]=l,s.observerSlots[r]=u)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)x(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function J(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function O(t,e=p){throw J(t)}function tt(){const[t,e]=k(!1),[s,r]=k(""),n=()=>e(!t()),l=()=>{const u=F(1+Math.random()*5);r(u)};return l(),a("div",null,[a(L,{enabled:t(),onBlur:()=>e(!1)},{default:()=>[a(E("a-adaptive"),{class:"overflow-hidden"},{default:()=>[a("p",null,[s()])]}),a("div",{class:"flex justify-end pt-10"},[a(g,{variant:"outline",onClick:()=>l()},{default:()=>[m("Next")]})])]}),a("div",null,[a(g,{onClick:()=>n()},{default:()=>[m("Open")]})])])}export{tt as DrawerDemo};
