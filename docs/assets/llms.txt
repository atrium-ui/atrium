# Atrium Elements

This project contains a collection of functional web primitives that can be used in any framework or library, available as custom elements. All elements are built using LitElement and provide framework-agnostic functionality.

## Elements Overview

### Animation (`a-animation`)

- **Purpose**: Interface for including Rive animations in HTML, similar to an image tag
- **Features**: Supports autoplay, state machines, artboards, mouse interactions, and intersection-based performance optimization
- **Key Properties**: `src` (Rive file URL), `width`, `height`, `autoplay`, `layout` (contain/cover/fill)
- **Methods**: `play()`, `pause()`, `trigger()`, `text()`, `input()`
- **Events**: `load`, `play`, `pause`

**Example:**
```ts
import "@sv/elements/animation";
```
```html
<a-animation
  height="200"
  width="200"
  src="/loading.riv"
  autoplay
  layout="contain"
/>
```

### Box (`a-box`)

- **Purpose**: Provides an interface to resize events for elements with performance optimization
- **Features**: Uses a single ResizeObserver for all instances, debounced resize events
- **Key Properties**: `retain` (maintains size during resize)
- **Events**: `resize`

**Example:**
```ts
import "@sv/elements/box";
```
```html
<a-box retain>
  <div class="resizable-content">
    Content that responds to resize events
  </div>
</a-box>
```

### Blur (`a-blur`)

- **Purpose**: Focus management utility for modal-like interfaces
- **Features**: Manages focus trapping and outside click detection

**Example:**
```ts
import "@sv/elements/blur";
```
```html
<a-blur>
  <div>
    <h1>Modal</h1>
    <p>Click outside of this modal to close it.</p>
  </div>
</a-blur>
```

### Chart (`a-chart`)

- **Purpose**: Simple chart component with data loaded from URLs, styleable with CSS
- **Features**: Built on Chart.js, supports bar and line charts, dark mode awareness
- **Key Properties**: `src` (data URL), `type` (bar/line)
- **Data Format**: Chart.js data structure
- **Events**: `load`

**Example:**
```ts
import "@sv/elements/chart";
```
```html
<a-chart
  type="bar"
  class="h-[300px] aspect-[2/1] text-black stroke-black/5 dark:stroke-white/5 dark:text-white"
  src="/atrium/chart-data.json"
/>
```

### Expandable (`a-expandable`)

- **Purpose**: Collapsible content sections with smooth animations

**Example:**
```ts
import "@sv/elements/expandable";
```
```html
<a-expandable>
  <button slot="trigger">Toggle Content</button>
  <div>
    <p>This content can be expanded and collapsed.</p>
  </div>
</a-expandable>
```

### Form (`a-form-field`)

- **Purpose**: Form field validation and error handling
- **Components**: `FormFieldElement`, `FormFieldErrorElement`
- **Key Properties**: `invalid`, `valid`
- **Methods**: `setValid()`

**Example:**
```ts
import "@sv/elements/form";
```
```html
<form>
  <a-form-field>
    <label for="email">Email</label>
    <input type="email" id="email" required />
    <a-form-field-error></a-form-field-error>
  </a-form-field>
</form>
```

### List (`a-list`)

- **Purpose**: Enhanced list functionality with keyboard navigation
- **Components**: `ListElement`, `ListItemElement`

**Example:**
```ts
import "@sv/elements/list";
```
```html
<a-list>
  <a-list-item>Item 1</a-list-item>
  <a-list-item>Item 2</a-list-item>
  <a-list-item>Item 3</a-list-item>
</a-list>
```

### Popover (`a-popover`)

- **Purpose**: Positioned overlay elements using Floating UI
- **Features**: Smart positioning relative to trigger elements, focus management
- **Events**: `show`, `hide`

**Example:**
```ts
import "@sv/elements/popover";
```
```html
<a-popover-trigger>
  <button type="button" slot="trigger">
    Open Popover
  </button>

  <a-popover>
    <div>Popover content here</div>
  </a-popover>
</a-popover-trigger>
```

### Portal (`a-portal`)

- **Purpose**: Renders content in different DOM locations (typically document.body)
- **Features**: Useful for modals, tooltips, and overlays that need to escape stacking contexts

**Example:**
```ts
import "@sv/elements/portal";
```
```html
<a-portal>
  <div class="modal">
    Content rendered at document.body level
  </div>
</a-portal>
```

### Range (`a-range`)

- **Purpose**: Custom range/slider input controls
- **Key Properties**: `value`, `min`, `max`, `step`

**Example:**
```ts
import "@sv/elements/range";
```
```html
<a-range
  value="0.5"
  min="0"
  max="1"
  step="0.1"
  class="w-full"
></a-range>
```

### Scroll (`a-scroll`)

- **Purpose**: Enhanced scrolling functionality with scroll position management throughout navigation

**Example:**
```ts
import "@sv/elements/scroll";
```
```html
<a-scroll>
  <div class="sidebar-content">
    <div>Scrollable content item 1</div>
    <div>Scrollable content item 2</div>
    <div>Scrollable content item 3</div>
  </div>
</a-scroll>
```

### Select (`a-select`)

- **Purpose**: Custom select dropdown functionality
- **Components**: Select element, `OptionElement`
- **Features**: Form integration, keyboard navigation

**Example:**
```ts
import "@sv/elements/select";
```
```html
<form onchange="console.log(event.target.value)">
  <a-select name="test" class="text-base">
    <button type="button" slot="trigger" class="cursor-pointer">
      <div class="w-[150px] text-left">Select an option</div>
    </button>

    <div class="mt-1 border border-zinc-700 bg-zinc-800 p-1">
      <a-option class="block p-1 hover:bg-zinc-600" value="option-1">Option 1</a-option>
      <a-option class="block p-1 hover:bg-zinc-600" value="option-2">Option 2</a-option>
      <a-option class="block p-1 hover:bg-zinc-600" value="option-3">Option 3</a-option>
    </div>
  </a-select>
</form>
```

### Toast (`a-toast`)

- **Purpose**: Notification system with automatic positioning and animations
- **Components**: `ToastFeed` (container), `Toast` (individual notifications)
- **Events**: `killed` (when toast is dismissed)

**Example:**
```ts
import "@sv/elements/toast";
```
```html
<a-portal>
  <a-toast-feed class="fixed right-4 bottom-4 text-base"></a-toast-feed>
</a-portal>

<script>
  // Create a toast programmatically
  const toast = new Toast({ message: "Operation completed!" });
</script>
```

### Toggle (`a-toggle`)

- **Purpose**: Toggle/switch input control with form integration
- **Features**: Form-associated custom element, supports form internals API
- **Key Properties**: `name`, `value`, form integration

**Example:**
```ts
import "@sv/elements/toggle";
```
```html
<a-toggle
  class="p-2 cursor-pointer border hover:border-zinc-600 [&[value='true']]:bg-zinc-700"
  name="notifications"
  value="true"
>
  <span slot="true">Enabled</span>
  <span slot="false">Disabled</span>
</a-toggle>
```

### Track (`a-track`)

- **Purpose**: Interface for scrolling content (carousels, slideshows)
- **Features**: Navigate to specific child elements, input device optimization, snap scrolling
- **Key Properties**: `snap` (enables snap scrolling)
- **Styling**: The a-track element automatically handles overflowing content as slidable, wihtout overflow it wont allow sliding by default. Also if items wrap to a new line, they will be ignored in the item count.

**Example:**
```ts
import "@sv/elements/track";
```
```html
<a-track snap class="flex w-full overflow-visible">
  <div class="flex-none w-full">
    <img src="/slide1.jpg" class="w-full" alt="Slide 1" />
  </div>
  <div class="flex-none w-full">
    <img src="/slide2.jpg" class="w-full" alt="Slide 2" />
  </div>
  <div class="flex-none w-full">
    <img src="/slide3.jpg" class="w-full" alt="Slide 3" />
  </div>
</a-track>
```

### Transition (`a-transition`)

- **Purpose**: Animation and transition utilities for content changes
- **Features**: Smooth transitions between different content states

**Example:**
```ts
import "@sv/elements/transition";
```
```html
<a-transition>
  <div key="content1">Initial content</div>
  <!-- Content changes trigger transitions -->
</a-transition>
```

## Technical Details

- **Framework**: Built with LitElement for cross-framework compatibility
- **Browser Support**: Modern browsers with custom element support
- **Performance**: Optimized with intersection observers, resize observers, and debouncing
- **Accessibility**: Includes ARIA attributes and semantic HTML where applicable
- **Styling**: CSS custom properties and part selectors for theming
- **Dependencies**: Chart.js (charts), Rive (animations), Floating UI (popovers)

## Usage Pattern

All elements follow a consistent pattern:
1. Import the element: `import "@sv/elements/{element-name}"`
2. Use as HTML: `<a-{element-name} properties...></a-{element-name}>`
3. Style with CSS using custom properties and part selectors
4. Listen for custom events for interaction handling

The elements are designed to be framework-agnostic and can be used in vanilla HTML, React, Vue, Angular, or any other web framework.

More information can be found in the docs at "https://svp.pages.s-v.de/atrium/elements/a-{element-name}".
